# grco - gRPC Connector

[![Go Report Card](https://goreportcard.com/badge/github.com/x3a-tech/grco)](https://goreportcard.com/report/github.com/x3a-tech/grco) [![GoDoc](https://godoc.org/github.com/x3a-tech/grco?status.svg)](https://godoc.org/github.com/x3a-tech/grco)

`grco` — это Go-пакет, предоставляющий удобные инструменты для создания, настройки и управления gRPC клиентами и серверами. Он упрощает работу с TLS/mTLS, KeepAlive, политиками повторных попыток, graceful shutdown и другими аспектами gRPC соединений.


## Установка

```bash
go get -u github.com/x3a-tech/grco
```

## Особенности

* **gRPC Сервер**:
    * Простая инициализация и запуск gRPC сервера.
    * Поддержка TLS и mTLS с гибкой настройкой сертификатов.
    * Настраиваемые параметры KeepAlive (KASP, KAEP).
    * Конфигурируемые лимиты на размер сообщений, количество потоков, размеры буферов.
    * Тайм-аут на установку соединения.
    * Автоматическая регистрация сервисов проверки состояния (`grpc_health_v1`) и рефлексии.
    * Механизм "вежливой" остановки (Graceful Shutdown) с таймаутом.
    * Подробное логирование с использованием `logit-go`.
* **gRPC Клиент**:
    * Простое создание и подключение gRPC клиента.
    * Автоматические повторные попытки подключения с настраиваемой экспоненциальной выдержкой (backoff).
    * Поддержка TLS (с проверкой CA сервера) и mTLS (с клиентскими сертификатами).
    * Настраиваемые параметры KeepAlive.
    * Конфигурируемые лимиты на размер сообщений.
    * Возможность установки User-Agent.
    * Подробное логирование с использованием `logit-go`.
* **Конфигурация**: Интеграция с `github.com/x3a-tech/configo` для управления конфигурацией.
* **Дженерики**: Клиент использует дженерики (`Client[T any]`) для гибкости.

## Зависимости

* `github.com/x3a-tech/configo` - для управления конфигурацией.
* `github.com/x3a-tech/logit-go` - для логирования.
* `google.golang.org/grpc`
